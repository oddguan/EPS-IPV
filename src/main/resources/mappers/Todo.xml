<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.epsspring2020.EPSIPV.daos.TodoDao">
    <select id="queryTodosByUserId" parameterType="map" resultType="com.epsspring2020.EPSIPV.entities.Todo">
        SELECT ToDoId, Description, IsDone
        FROM Todos
        WHERE UserId = #{param1, jdbcType=INTEGER};
    </select>

    <insert id="insertTodo" parameterType="com.epsspring2020.EPSIPV.entities.Todo" useGeneratedKeys="true" keyProperty="todoId" keyColumn="todoId">
        INSERT INTO Todos (Description, IsDone, UserId)
        VALUE (#{description}, #{isDone}, #{userId})
    </insert>

    <update id="updateTodoIsDone" parameterType="com.epsspring2020.EPSIPV.entities.Todo">
        UPDATE Todos
        SET isDone = #{isDone}
        WHERE TodoId = #{todoId}
    </update>

    <update id="editDescriptionOfTodo" parameterType="com.epsspring2020.EPSIPV.entities.Todo">
        UPDATE Todos
        SET Description = #{description}
        WHERE TodoId = #{todoId}
    </update>

    <delete id="removeTodo" parameterType="com.epsspring2020.EPSIPV.entities.Todo">
        DELETE FROM Todos
        WHERE TodoId = #{todoId}
    </delete>
</mapper>